<!DOCTYPE html>
	<html lang="en">
	<meta charset="utf-8"/>

		<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

<script src="lib/d3.min.js"></script>

<script type="text/javascript">

	var BASE_URL = "";
	var URL_FULL = "";

	let sidebar_id = '#insights-sidebar';
	let open_button_id = '#open-insights-sidebar';
	let leaflet_control = '.leaflet-control-container .leaflet-left'

	$(document).ready(function () {
        $(sidebar_id).mCustomScrollbar({
            theme: "minimal"
        });

        $(sidebar_id+' .dismiss').on('click', function () {
            // hide sidebar
            $(sidebar_id).removeClass('active');
            if (leaflet_control!=null) {$(leaflet_control).css('left','0')}
        });

        $(open_button_id).on('click', function () {
            // open sidebar
            $(sidebar_id).addClass('active');
            if (leaflet_control!=null) {$(leaflet_control).css('left','300px')}
        });
    });

</script>

<!-- Font Awesome JS -->
<script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js" integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ" crossorigin="anonymous"></script>
<script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js" integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY" crossorigin="anonymous"></script>

<!-- jQuery Custom Scroller CDN -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js"></script>

		<script type="text/javascript" src="js/pi2.js"></script>


		<head>
			<title>Colorful Traces</title>
			<!-- link to main stylesheet -->
			<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

<link rel="stylesheet" type="text/css" href="css/pi.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.min.css">


		</head>
		<body class='map'>
			<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
    <a href='#' id='open-insights-sidebar'> Insights</a>
    <div class="navbar-nav">
      <a id="navbar-msg" class="nav-item nav-link">Showing all deliveries</a>
      <a id="navbar-reset" class="nav-item nav-link">Reset</a>
    </div>
    <a href='#' type="button" data-toggle="modal" data-target="#about-modal" id='open-about'> About</a>
  </div>
</nav>

			<!-- Modal -->
<div class="modal fade" id="about-modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLongTitle">About</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <i class="icon-action fas fa-times"></i>
        </button>
      </div>
      <div class="modal-body">
        <p>
        This visualization is based on data aquired from Smood, a food delivery company based in Switzerland. Its aim is is to gain insights into the deliveries made in the Lausanne area. For this purpose, the number of deliveries passing through each road is represented by a color map. To gain more specific insights, one can select deliveries by time, restaurant or by road. For more detail, <a id='about-start-story' href='#'>replay the story</a>.
        </p>
        <p>
        This project was made by Davide Di Dio, Tanguy Albrici and Fatine Benhsain as part of the <i>Data Visualization</i> course at <a href='https://www.epfl.ch/'>EPFL</a>, Fall 2018.
        </p>
      </div>
    </div>
  </div>
</div>
			<svg id="svg"></svg>
			<!--
<div id="insights-sidebar" class="sidebar sidebar-left active">
  <div class="dismiss">
    <i class="fas fa-arrow-left"></i>
  </div>
  <div class="sidebar-header">
    <h5>Insights</h5>
  </div>

  <div class="sidebar-content">
    <div class="title">Deliveries throughout the day</div>
    <figure id="time-hist"></figure>

    <div class="title">Delivery distance</div>
    <figure id="distance-hist"></figure>

    <div class="title">Delivery duration</div>
    <figure id="duration-hist">    </figure>
  </div>

</div>
-->

<!--
<div id='right-panel'>
  <div class="card map-panel" id='options-card'>
      <header class="card-header">
          <a href="#" data-toggle="collapse" data-target="#collapse-options" aria-expanded="true" class='collapsed'>
              <i class="icon-action fa fa-sort-down"></i>
              <span class="title">Options</span>
          </a>
      </header>
      <div class="collapse" id="collapse-options" style="">
          <article class="card-body">
              <div class="form-check">
                  <input id="rest-markers-check" class="form-check-input" type="checkbox" value="" checked>
                  <label class="form-check-label" for="rest-markers-check">
                      Show restaurants
                  </label>
              </div>
              <div>
                  <label class="btn-toggle-label" for="map-style-toggle">
                      Map style
                  </label>
                  <div id="map-style-toggle" class="btn-group btn-group-toggle" data-toggle="buttons">
                      <label id="map-style-dark" class="btn btn-secondary btn-sm active">
                          <input type="radio" name="options" autocomplete="off" checked> Dark
                      </label>
                      <label id="map-style-light" class="btn btn-secondary btn-sm">
                          <input type="radio" name="options" autocomplete="off"> Light
                      </label>
                  </div>
              </div>
          </article>
          <div class="card-body">
              <label class="legend" for="heatmap_legend">
                  Legend
              </label>
              <svg id="heatmap_legend"></svg>
          </div>
      </div>
  </div>
</div>
-->

		</body>
	</html>
